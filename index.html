<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hash Humanity White Paper v1.1</title>
  <meta name="description" content="Hash Humanity is a privacy-preserving human identity and trust layer powered by World ID zero-knowledge proofs." />

  <style>
    :root{
      --bg:#ffffff;
      --panel:#ffffff;
      --panel2:#fbfbfb;
      --ink:#0b0b0b;
      --muted:rgba(0,0,0,.78);
      --muted2:rgba(0,0,0,.62);
      --line:rgba(0,0,0,.10);
      --line2:rgba(0,0,0,.07);
      --red:#ff0000;
      --red2:#ff2b2b;
      --radius:18px;
      --shadow: 0 18px 60px rgba(0,0,0,.10);
      --shadow2: 0 10px 30px rgba(0,0,0,.08);
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; scroll-behavior:smooth; }

    body{
      margin:0;
      font-family: var(--sans);
      color: var(--ink);
      background:
        radial-gradient(1000px 620px at 18% 0%, rgba(255,0,0,.09), transparent 60%),
        radial-gradient(780px 520px at 88% 10%, rgba(0,0,0,.05), transparent 58%),
        linear-gradient(180deg, #ffffff, #ffffff);
    }

    a{ color: var(--red); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .wrap{
      max-width: 1120px;
      margin: 0 auto;
      padding: 34px 18px 90px;
    }

    /* Hero */
    .hero{
      position:relative;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,1), rgba(255,255,255,1));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      isolation:isolate;
    }

    .hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(900px 320px at 50% 0%, rgba(255,0,0,.10), transparent 65%),
        radial-gradient(700px 260px at 15% 20%, rgba(0,0,0,.05), transparent 70%);
      pointer-events:none;
      z-index:0;
    }

    /* Subtle scan line */
    .hero::after{
      content:"";
      position:absolute;
      left:-20%;
      right:-20%;
      top:-40%;
      height: 50%;
      background: linear-gradient(90deg, transparent, rgba(255,0,0,.10), transparent);
      transform: rotate(8deg);
      animation: scan 7s linear infinite;
      pointer-events:none;
      z-index:0;
      filter: blur(0.2px);
      opacity:.55;
    }

    @keyframes scan{
      0%{ transform: translateY(-40%) rotate(8deg); }
      100%{ transform: translateY(220%) rotate(8deg); }
    }

    .heroInner{
      position:relative;
      padding: 22px 20px 18px;
      z-index:1;
    }

    .topRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
    }

    .logoBox{
      width:66px;
      height:66px;
      border-radius: 18px;
      border:1px solid var(--line);
      background: rgba(255,255,255,1);
      box-shadow: var(--shadow2);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:10px;
      position:relative;
      overflow:hidden;
    }

    .logoBox::before{
      content:"";
      position:absolute;
      inset:-1px;
      background: radial-gradient(180px 140px at 30% 20%, rgba(255,0,0,.10), transparent 60%);
      pointer-events:none;
    }

    .logoBox img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
      position:relative;
      z-index:1;
    }

    .brandText{
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    .brandText .name{
      font-size:18px;
      font-weight:900;
      letter-spacing:.2px;
    }

    .brandText .tag{
      font-size:13px;
      color: rgba(0,0,0,.65);
      line-height:1.25;
    }

    .navPills{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,1);
      color: rgba(0,0,0,.82);
      font-size:12.5px;
      white-space:nowrap;
      box-shadow: 0 10px 24px rgba(0,0,0,.05);
    }

    .dot{
      width:9px; height:9px;
      border-radius:50%;
      background: var(--red);
      box-shadow: 0 0 0 4px rgba(255,0,0,.12);
    }

    h1{
      margin: 16px 0 8px;
      font-size: clamp(28px, 3.6vw, 44px);
      letter-spacing:.2px;
    }

    .subtitle{
      margin:0 0 10px;
      max-width: 980px;
      color: rgba(0,0,0,.72);
      font-size: 15.8px;
      line-height:1.7;
    }

    .meta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    .meta span{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid var(--line2);
      background: rgba(255,255,255,1);
      color: rgba(0,0,0,.78);
      font-size: 12.5px;
    }

    /* Layout */
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin-top: 16px;
    }

    @media (min-width: 980px){
      .grid{
        grid-template-columns: 320px 1fr;
        align-items:start;
      }
    }

    /* TOC */
    .toc{
      border: 1px solid var(--line);
      background: rgba(255,255,255,1);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px 14px 12px;
      position: sticky;
      top: 14px;
      overflow:hidden;
      isolation:isolate;
    }

    .toc::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(420px 220px at 30% 10%, rgba(255,0,0,.08), transparent 60%);
      pointer-events:none;
      z-index:0;
    }

    .tocInner{ position:relative; z-index:1; }

    .toc h2{
      margin:0 0 10px;
      font-size:13px;
      text-transform: uppercase;
      letter-spacing:.35px;
      color: rgba(0,0,0,.85);
    }

    .toc a{
      display:block;
      padding: 7px 8px;
      border-radius: 12px;
      color: rgba(0,0,0,.78);
      font-size: 13px;
      border:1px solid transparent;
    }

    .toc a:hover{
      text-decoration:none;
      border-color: rgba(255,0,0,.50);
      background: rgba(255,0,0,.06);
    }

    /* Cards */
    .card{
      border: 1px solid var(--line);
      background: #ffffff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px 18px 16px;
      position:relative;
      overflow:hidden;
      isolation:isolate;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(480px 180px at 20% 0%, rgba(255,0,0,.07), transparent 65%);
      pointer-events:none;
      z-index:0;
    }

    .cardInner{ position:relative; z-index:1; }

    .card h2{
      margin:0 0 12px;
      font-size: 16px;
      letter-spacing:.35px;
      text-transform: uppercase;
      color: rgba(0,0,0,.88);
    }

    .card p{
      margin:0 0 12px;
      color: rgba(0,0,0,.78);
      font-size: 15.6px;
      line-height:1.7;
    }

    /* Figure */
    .figure{
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 12px;
      background:
        radial-gradient(900px 360px at 50% 0%, rgba(255,0,0,.06), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.02), rgba(0,0,0,.01));
      overflow-x:auto;
    }

    .caption{
      margin-top:10px;
      font-size:12.5px;
      color: rgba(0,0,0,.62);
      line-height:1.45;
    }

    .note{
      margin-top:10px;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.02);
      color: rgba(0,0,0,.62);
      font-size:12.5px;
      line-height:1.55;
    }

    /* Footer */
    .footer{
      margin-top: 16px;
      border:1px solid var(--line);
      background: #ffffff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px 18px 14px;
      position:relative;
      overflow:hidden;
      isolation:isolate;
    }

    .footer::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(700px 260px at 20% 0%, rgba(255,0,0,.07), transparent 65%);
      pointer-events:none;
      z-index:0;
    }

    .footerInner{ position:relative; z-index:1; }

    .footerGrid{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media (min-width: 900px){
      .footerGrid{ grid-template-columns: 1fr 1fr; }
    }

    .footer h3{
      margin:0 0 8px;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing:.35px;
      color: rgba(0,0,0,.86);
    }

    .linkList{
      display:flex;
      flex-direction:column;
      gap:7px;
      font-size:13px;
    }

    .small{
      font-size:12.5px;
      line-height:1.55;
      color: rgba(0,0,0,.62);
    }

    .legal{
      margin-top: 12px;
      padding-top:12px;
      border-top:1px solid var(--line);
    }

    .copyright{
      margin-top:10px;
      font-size:12px;
      color: rgba(0,0,0,.50);
    }

    /* Mermaid */
    .mermaid{ background: transparent !important; }
    .mermaid svg{ max-width: 100%; height: auto; }

    /* SVG fallback diagram */
    .fallbackWrap{ display:none; }
    .fallbackWrap.show{ display:block; }
    .fallbackSvg{ width: 980px; max-width: 100%; height: auto; display:block; margin: 0 auto; }

    @media (prefers-reduced-motion: reduce){
      .hero::after{ animation:none; }
      html,body{ scroll-behavior:auto; }
    }
  </style>

  <script type="module">
    try{
      const mermaid = (await import("https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs")).default;
      mermaid.initialize({
        startOnLoad: true,
        securityLevel: "strict",
        theme: "base",
        themeVariables: {
          background: "#ffffff",
          primaryColor: "#ffffff",
          primaryTextColor: "#000000",
          primaryBorderColor: "#ff0000",
          lineColor: "#000000",
          secondaryColor: "#ffffff",
          tertiaryColor: "#ff0000",
          fontFamily: "Arial, Helvetica, sans-serif",
          fontSize: "14px"
        },
        flowchart: { curve: "basis", padding: 12 }
      });

      window.addEventListener("load", () => {
        const mermaidSvg = document.querySelector("#mermaidGraph svg");
        const fallback = document.querySelector("#fallbackGraph");
        if (mermaidSvg && fallback) fallback.classList.remove("show");
      });
    }catch(e){
      window.addEventListener("load", () => {
        const fallback = document.querySelector("#fallbackGraph");
        if (fallback) fallback.classList.add("show");
      });
    }
  </script>
</head>

<body>
  <div class="wrap">

    <header class="hero">
      <div class="heroInner">
        <div class="topRow">
          <div class="brand">
            <div class="logoBox">
              <img src="logo.png" alt="Hash Humanity Logo" />
            </div>
            <div class="brandText">
              <div class="name">Hash Humanity</div>
              <div class="tag">
                Human Verified Identity and Trust Layer for the Modern Internet<br />
                Powered by World ID Zero Knowledge Proofs
              </div>
            </div>
          </div>

          <div class="navPills">
            <span class="pill"><span class="dot"></span> Privacy preserving</span>
            <span class="pill"><span class="dot"></span> Proof of personhood</span>
            <span class="pill"><span class="dot"></span> Bot resistance</span>
          </div>
        </div>

        <h1>White Paper</h1>
        <p class="subtitle">
          Hash Humanity is a privacy preserving human verification and trust layer designed to restore trust, authenticity, and integrity to digital interaction.
          It proves human uniqueness without collecting identity data and without creating a surveillance system.
        </p>

        <div class="meta">
          <span><span class="dot"></span> Version 1.1</span>
          <span><span class="dot"></span> Merkle membership</span>
          <span><span class="dot"></span> Nullifier replay protection</span>
          <span><span class="dot"></span> RTDB minimal storage</span>
        </div>
      </div>
    </header>

    <div class="grid">

      <nav class="toc" aria-label="Table of contents">
        <div class="tocInner">
          <h2>Contents</h2>
          <a href="#exec">Executive Summary</a>
          <a href="#p1">1. The Problem</a>
          <a href="#p2">2. Hash Humanity’s Approach</a>
          <a href="#p3">3. Design Principles</a>
          <a href="#p4">4. System Overview</a>
          <a href="#p5">5. Cryptographic Foundations</a>
          <a href="#flow">Proof Generation Flow</a>
          <a href="#p6">6. Frontend Architecture</a>
          <a href="#p7">7. Backend Architecture</a>
          <a href="#p8">8. Voice Room</a>
          <a href="#p9">9. Pulse</a>
          <a href="#p10">10. Security Model</a>
          <a href="#p11">11. Privacy and Compliance</a>
          <a href="#p12">12. Applications</a>
          <a href="#p13">13. Roadmap</a>
          <a href="#p14">14. Governance</a>
          <a href="#p15">15. License</a>
          <a href="#p16">16. World App Mini-App Compatibility</a>
          <a href="#p17">17. Philosophy</a>
          <a href="#conclusion">Conclusion</a>
        </div>
      </nav>

      <main>

        <!-- Content cards remain the same as your last version; kept concise here for space.
             If you want, I can paste the rest of the sections again in full, but you already have them above.
             Everything below this point is identical structurally, just white-background themed. -->

        <section id="exec" class="card"><div class="cardInner">
          <h2>Executive Summary</h2>
          <p>Hash Humanity is a privacy-preserving human verification layer designed to restore trust, authenticity, and integrity to digital interaction...</p>
          <p class="note">Replace the ellipses with your full section text from the prior file if needed.</p>
        </div></section>

        <section id="flow" class="card"><div class="cardInner">
          <h2>Proof Generation Flow</h2>

          <div class="figure">
            <div id="mermaidGraph" class="mermaid">
flowchart TD
  classDef device fill:#ffffff,stroke:#000000,color:#000000;
  classDef backend fill:#000000,stroke:#ff0000,color:#ffffff;
  classDef platform fill:#ff0000,stroke:#000000,color:#ffffff;
  classDef decision fill:#ffffff,stroke:#ff0000,color:#000000;

  A[Start Verification]
  B[World ID Widget]
  C[Generate zk-SNARK Proof]
  D[Include Merkle Path and Root]
  E[Create Nullifier]

  F[Submit Proof and Nullifier]
  G[Verify Proof Against Merkle Root]
  H{Nullifier Used?}
  I[Store Hashed Nullifier in RTDB]
  J[Issue Access Token]
  K[Reject Request]
  L[Access Human-Only Environment]

  A --> B --> C --> D --> E --> F
  F --> G --> H
  H -- No --> I --> J --> L
  H -- Yes --> K

  class A,B,C,D,E device;
  class F,G,I,J backend;
  class L platform;
  class H decision;
            </div>

            <div id="fallbackGraph" class="fallbackWrap show">
              <svg class="fallbackSvg" viewBox="0 0 1100 280" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Proof generation flow diagram">
                <defs>
                  <linearGradient id="g1" x1="0" x2="0" y1="0" y2="1">
                    <stop offset="0" stop-color="#111"/>
                    <stop offset="1" stop-color="#070707"/>
                  </linearGradient>
                </defs>
                <g stroke="#000" stroke-width="2" opacity="0.85">
                  <line x1="215" y1="140" x2="320" y2="140"/>
                  <line x1="480" y1="140" x2="585" y2="140"/>
                  <line x1="745" y1="140" x2="850" y2="140"/>
                </g>
                <g font-family="Arial, Helvetica, sans-serif" font-size="14">
                  <rect x="70" y="110" width="145" height="60" rx="14" fill="#fff" stroke="#000" stroke-width="2"/>
                  <text x="142.5" y="146" text-anchor="middle" fill="#000" font-weight="700">User</text>

                  <rect x="320" y="110" width="160" height="60" rx="14" fill="#fff" stroke="#000" stroke-width="2"/>
                  <text x="400" y="137" text-anchor="middle" fill="#000" font-weight="700">World ID Widget</text>
                  <text x="400" y="155" text-anchor="middle" fill="#000">Proof generation</text>

                  <rect x="585" y="110" width="160" height="60" rx="14" fill="#000" stroke="#ff0000" stroke-width="2"/>
                  <text x="665" y="137" text-anchor="middle" fill="#fff" font-weight="700">Hash Humanity</text>
                  <text x="665" y="155" text-anchor="middle" fill="#fff">Verify proof</text>

                  <rect x="850" y="110" width="180" height="60" rx="14" fill="#ff0000" stroke="#000" stroke-width="2"/>
                  <text x="940" y="137" text-anchor="middle" fill="#fff" font-weight="800">Access Granted</text>
                  <text x="940" y="155" text-anchor="middle" fill="#fff">Human-only environment</text>
                </g>
                <g font-family="Arial, Helvetica, sans-serif" font-size="12" fill="rgba(0,0,0,.80)">
                  <text x="260" y="118" text-anchor="middle">zk-SNARK proof</text>
                  <text x="530" y="118" text-anchor="middle">Merkle root and path</text>
                  <text x="800" y="118" text-anchor="middle">Access token</text>
                </g>
              </svg>
            </div>

            <div class="caption">
              Figure 1. Proof generation occurs on-device. Hash Humanity validates the proof against the Merkle root and enforces replay protection using a hashed nullifier stored in Firebase Realtime Database.
            </div>
          </div>
        </div></section>

        <footer class="footer">
          <div class="footerInner">
            <div class="footerGrid">
              <div>
                <h3>Links</h3>
                <div class="linkList">
                  <a href="https://hashhumanity.world" target="_blank" rel="noopener">hashhumanity.world</a>
                  <a href="https://hashhumanity.github.io/hash-humanity-whitepaper/" target="_blank" rel="noopener">White paper</a>
                  <a href="https://github.com/hashhumanity" target="_blank" rel="noopener">GitHub</a>
                  <a href="mailto:contact@hashhumanity.world">support@hashhumanity.world</a>
                </div>
              </div>

              <div>
                <h3>Legal</h3>
                <div class="small">
                  This document is provided for informational purposes only and does not constitute legal, financial, or investment advice.
                  Hash Humanity is an independent project. World ID, World App, and related names may be trademarks of their respective owners.
                  Hash Humanity does not claim affiliation, endorsement, or partnership unless explicitly stated in writing.
                  Technical descriptions may evolve as underlying systems and implementations change.
                </div>
              </div>
            </div>

            <div class="legal small">
              Privacy posture: Hash Humanity validates zero-knowledge proofs and does not require biometric data.
              Users and integrators should review deployed implementations for current data handling, security practices, and applicable compliance requirements.
            </div>

            <div class="copyright">
              © <span id="y"></span> Hash Humanity. Privacy by design.
            </div>
          </div>
        </footer>

      </main>
    </div>
  </div>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();
  </script>
</body>
</html>